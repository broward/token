{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "SDT Messages Schema",
  "type": "object",
  "definitions": {
    "header": {
      "type": "object",
      "properties": {
        "message_type": {
          "type": "string"
        },
        "version": {
          "type": "number"
        },
        "tracking_id": {
          "type": "number"
        },
        "create_date": {
          "type": "string",
          "format": "date"
        }
      },
      "required": [
        "message_type",
        "version",
        "tracking_id",
        "create_date"
      ]
    },
    "result": {
      "type": "object",
      "properties": {
        "result_id": {
          "type": "integer"
        },
        "message": {
          "type": "string"
        },
        "result": {
          "type": "boolean"
        }
      },
      "required": [
        "result_id",
        "message",
        "result"
      ]
    },
    "address": {
      "type": "object",
      "properties": {
        "header": {
          "$ref": "#/definitions/header"
        },
        "address_1": {
          "type": "string"
        },
        "address_2": {
          "type": "string"
        },
        "city": {
          "type": "string"
        },
        "state": {
          "type": "string"
        },
        "zipcode": {
          "type": "string"
        },
        "update_date": {
          "type": "string",
          "format": "date"
        }
      },
      "required": [
        "header",
        "address_1",
        "city",
        "state",
        "zipcode",
        "update_date"
      ]
    },
    "transaction": {
      "type": "object",
      "properties": {
        "header": {
          "$ref": "#/definitions/header"
        },
        "depo_type": {
          "type": "string",
          "enum": [
            "gold",
            "dollar",
            "other"
          ]
        },
        "transaction_id": {
          "type": "integer"
        },
        "payer": {
          "type": "integer"
        },
        "payee": {
          "type": "integer"
        },
        "amount": {
          "type": "number"
        }
      },
      "required": [
        "header",
        "depo_type",
        "transaction_id",
        "payer",
        "payee",
        "amount"
      ]
    },
    "user": {
      "type": "object",
      "properties": {
        "header": {
          "$ref": "#/definitions/header"
        },
        "user_id": {
          "type": "integer"
        },
        "first_name": {
          "type": "string"
        },
        "last_name": {
          "type": "string"
        },
        "address": {
          "$ref": "#/definitions/address"
        },
        "email": {
          "type": "string",
          "format": "email"
        },
        "password": {
          "type": "string"
        },
        "phone": {
          "type": "string"
        },
        "time_zone": {
          "type": "string"
        },
        "update_date": {
          "type": "string",
          "format": "date"
        }
      },
      "required": [
        "header",
        "user_id",
        "first_name",
        "last_name",
        "address",
        "email",
        "password",
        "phone",
        "time_zone",
        "update_date"
      ]
    }
  },
  "properties": {
    "message_type": {
      "type": "string",
      "enum": [
        "result",
        "error",
        "tracking_id",
        "header",
        "transaction",
        "address",
        "user",
        "depo_change",
        "mpc_shard",
        "blockchain_entry"
      ]
    },
    "payload": {
      "type": "object",
      "oneOf": [
        {
          "$ref": "#/definitions/result"
        },
        {
          "$ref": "#/definitions/address"
        },
        {
          "$ref": "#/definitions/transaction"
        },
        {
          "$ref": "#/definitions/user"
        }
      ]
    }
  },
  "required": [
    "message_type",
    "payload"
  ]
}
